(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{57:function(e,t,a){"use strict";var n=a(10),r=a(0),i=a.n(r),c=(a(58),a(42));t.a=function(e){var t,a=e.id,l=e.center,s=e.onInput,o=e.errorText,u=Object(r.useState)(),p=Object(n.a)(u,2),d=p[0],m=p[1],v=Object(r.useState)(),f=Object(n.a)(v,2),b=f[0],g=f[1],E=Object(r.useState)(!1),j=Object(n.a)(E,2),O=j[0],h=j[1],x=Object(r.useRef)(),y=O;Object(r.useEffect)((function(){if(d){var e=new FileReader;e.onload=function(){g(e.result)},e.readAsDataURL(d)}}),[d]);return i.a.createElement("div",{className:"form-control"},i.a.createElement("input",{ref:x,id:a,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(e){e.target.files||1===e.target.files.length?(t=e.target.files[0],m(t),h(!0),y=!0):(h(!1),y=!1),s(a,t,y)}}),i.a.createElement("div",{className:"image-upload ".concat(l&&"center")},i.a.createElement("div",{className:"image-upload__preview"},b&&i.a.createElement("img",{src:b,alt:"Preview"})," ",!b&&i.a.createElement("p",null,"Please pick an image.")),i.a.createElement(c.a,{type:"button",onClick:function(){return x.current.click()}},"PICK IMAGE")),!O&&i.a.createElement("p",null,o))}},58:function(e,t,a){},63:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(43),r=a.n(n),i=a(44),c=a(10),l=a(0),s=a.n(l),o=a(8),u=(a(63),a(54)),p=a(42),d=a(53),m=a(47),v=a(56),f=a(11),b=a(46),g=a(15),E=a(57);t.default=function(){var e=Object(l.useContext)(f.a),t=Object(m.a)(),a=t.isLoading,n=t.error,j=t.sendRequest,O=t.clearError,h=Object(v.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),x=Object(c.a)(h,2),y=x[0],k=x[1],P=Object(o.g)(),w=function(){var t=Object(i.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,(n=new FormData).append("title",y.inputs.title.value),n.append("description",y.inputs.description.value),n.append("address",y.inputs.address.value),n.append("creator",e.userId),n.append("image",y.inputs.image.value),t.next=10,j("".concat("https://sharing-place.herokuapp.com/api","/places/"),"POST",n,{Authorization:"Bearer "+e.token});case 10:P.push("/"),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(1);case 15:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}();return s.a.createElement(l.Fragment,null,s.a.createElement(b.a,{error:n,onClear:O}),a&&s.a.createElement(g.a,{asOverlay:!0}),s.a.createElement("form",{className:"place-form",onSubmit:w},s.a.createElement(u.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(d.c)()],errorText:"Please enter a valid title",onInput:k}),s.a.createElement(E.a,{id:"image",onInput:k,errorText:"Please provide an image"}),s.a.createElement(u.a,{id:"description",element:"textarea",type:"text",label:"Description",validators:[Object(d.b)(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:k}),s.a.createElement(u.a,{id:"address",element:"input",type:"text",label:"Address",validators:[Object(d.c)()],errorText:"Please enter a valid description address.",onInput:k}),s.a.createElement(p.a,{type:"submit",disabled:!y.isValid},"ADD PLACE")))}}}]);
//# sourceMappingURL=8.da843509.chunk.js.map